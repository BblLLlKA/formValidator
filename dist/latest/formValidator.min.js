!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.FormValidator=t()}("undefined"!=typeof window?window:this,function(){return class e{static version="1.0.0";constructor(e,t={}){if(this.form=document.getElementById(e),!this.form)throw Error(`Form with id "${e}" not found.`);this.language=t.language?t.language.toLowerCase():"en",this.setupPhoneNumberInput(),this.form.addEventListener("submit",this.validateForm.bind(this)),this.form.addEventListener("input",this.handleInput.bind(this)),this.messages=t.messages||this.getDefaultMessages(),this.messages[this.language]||(console.warn(`Language "${this.language}" not found in messages. Using default language.`),this.language="en")}setupPhoneNumberInput(){let e=this.form.querySelector("#phoneNumber");e&&(this.addStylesheet("https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css"),this.iti=window.intlTelInput(e,{initialCountry:"auto",hiddenInput:"full_phone",geoIpLookup(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("us"))},utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js"}))}addStylesheet(e){let t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}getDefaultMessages(){return{en:{firstNameError:"First name should be at least 2 characters long",lastNameError:"Last name should be at least 2 characters long",emailError:"Enter a valid email address",phoneNumberError:"Enter a valid phone number"}}}validateField(e,t){let i=this.form.querySelector(`#${e}`),a=this.form.querySelector(`#${e}Error`);if(i||a){let s=i.value.trim(),r=t(s);return this.toggleInputClass(i,r),this.updateErrorText(a,r,e),r}}toggleInputClass(e,t){e.classList.remove(t?"error":"done"),e.classList.add(t?"done":"error")}updateErrorText(e,t,i){e.textContent=t?"":this.messages[this.language][`${i}Error`]}validateName(e){return e.length>=2}validateEmail(e){let t=this.form.querySelector("#email"),i=t.checkValidity(),a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim());return i&&a}validatePhoneNumber(){return this.iti.isValidNumber()}validateForm(e){e.preventDefault();let t=["firstName","lastName","email","phoneNumber",].every(e=>{let t="email"===e?this.validateEmail.bind(this):this["phoneNumber"===e?"validatePhoneNumber":"validateName"].bind(this),i=this.form.querySelector(`[name="${e}"]`);return i?this.validateField(e,t):(console.warn(`Field "${e}" not found.`),!0)});if(t)console.log("Form submitted successfully."),e.target.submit();else throw Error("Form validation failed.")}handleInput(e){let t=e.target;if("INPUT"===t.tagName){let i=t.name,a="email"===i?this.validateEmail.bind(this):this["phoneNumber"===i?"validatePhoneNumber":"validateName"].bind(this);this.validateField(i,a)}}}});